server:
  port: 8902

spring:
  profiles.include: common
  application.name: server-stream
  # 多个模块启用时，必须指定端口
  devtools.livereload.port: 35732
  cloud:
    nacos:
      discovery:
        server-addr: ${study.remote-ip}:8848
        namespace: study
      config:
        server-addr: ${spring.cloud.nacos.discovery.server-addr}
        namespace: ${spring.cloud.nacos.discovery.namespace}
        # 共享配置文件
        shared-configs:
          - study-shared-common.yml
          - study-shared-ds.yml

    stream:
      # 默认目标绑定器，即绑定的是哪一个消息中间件，比如：kafka，rabbitmq
      default-binder: kafka
      # 外部消息传递系统和应用程序之间的桥梁，提供消息的“生产者”和“消费者”（由目标绑定器创建）
      bindings:
        # 消息来源
        study_default_input:
          # Topic 名称
          destination: study_default_topic
          # 指定使用哪个消息中间件处理
          binder: kafka
          # 给消息主题进行分组
          group: study_default_group

        # 消息去向
        study_default_output:
          # Topic 名称
          destination: study_default_topic
          # 指定使用哪个消息中间件处理
          binder: kafka
          content-type: text/plain

        # 消息来源
        study_alert_input:
          # Topic 名称
          destination: study_alert_topic
          # 指定使用哪个消息中间件处理
          binder: kafka
          # 给消息主题进行分组
          group: study_default_group

        # 消息去向
        study_alert_output:
          # Topic 名称
          destination: study_alert_topic
          # 指定使用哪个消息中间件处理
          binder: kafka
          content-type: text/plain

      # kafka配置
      kafka:
        binder:
          # 集群地址，多个使用“,”分割
          brokers: localhost:9092
          # 允许自动创建topic
          auto-create-topics: true
